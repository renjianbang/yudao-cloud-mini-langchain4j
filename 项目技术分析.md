# 项目技术分析

## 一、项目整体架构

本项目采用分层微服务架构，主要包含以下核心模块：

- **yudao-gateway**：网关服务，负责请求转发、统一鉴权、跨域处理等。
- **yudao-framework**：基础框架模块，包含通用工具、starter 组件等。
- **yudao-module-system、yudao-module-infra、yudao-module-bpm**：业务微服务模块，分别对应系统管理、基础设施、流程管理等业务。
- **yudao-server**：主服务入口，聚合各业务模块。
- **yudao-ui**：前端项目，支持多种技术栈（Vue2/Vue3/Uniapp/Vben 等）。

## 二、技术选型

- **后端框架**：Spring Boot、Spring Cloud，微服务架构，支持高可用与扩展性。
- **网关**：Spring Cloud Gateway，支持路由、过滤器、限流、跨域等功能。
- **持久层**：MyBatis，结合自定义 Starter 实现数据访问。
- **缓存与消息队列**：Redis、MQ（Starter 支持）。
- **安全**：Spring Security，支持多租户、数据权限等扩展。
- **前端**：Vue2/Vue3、Uniapp、Vben Admin，支持多端适配。

## 三、关键技术点

### 1. 网关跨域处理

以 `CorsResponseHeaderFilter` 为例，解决 Spring Cloud Gateway 2.x 跨域响应头重复问题。通过自定义全局过滤器，确保 `Access-Control-Allow-Origin` 和 `Access-Control-Allow-Credentials` 响应头只保留一个值，避免浏览器报错。

### 2. Starter 组件化

项目将常用功能（如数据权限、IP 限制、租户管理等）封装为 Spring Boot Starter，便于各微服务模块按需集成，提升复用性和维护性。

### 3. 微服务分层

- **API 层**：定义服务间接口，解耦各模块。
- **Server 层**：实现具体业务逻辑。
- **Common 层**：通用工具和基础类库。

### 4. DevOps 支持

- **Dockerfile**：各服务均提供 Dockerfile，支持容器化部署。
- **脚本目录**：包含常用运维脚本，便于自动化运维。

## 四、项目优势

- 高度模块化，易于扩展和维护。
- 组件化 Starter，提升开发效率。
- 支持多端前端，适应不同业务场景。
- 完善的微服务治理能力（网关、注册、配置、监控等）。

## 五、建议与展望

- 可进一步引入服务网格（如 Istio）提升治理能力。
- 增强自动化测试和 CI/CD 流程，提升交付效率。
- 持续优化 Starter 组件，提升通用性和易用性。

